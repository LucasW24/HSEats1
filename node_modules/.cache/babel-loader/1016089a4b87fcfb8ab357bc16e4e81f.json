{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\ZB56\\\\Documents\\\\hseats-1\\\\src\\\\auth\\\\Settings.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext, useEffect } from 'react';\nimport Navbar from '../components/Navbar';\nimport SettingsNav from './SettingsNav';\nimport { Row, Col, Typography, PageHeader, Card, Menu, Button, Input, Switch, Divider, message, Tooltip } from 'antd';\nimport { MinusCircleTwoTone, CheckCircleTwoTone, UserOutlined, LogoutOutlined } from '@ant-design/icons';\nimport AuthContext from './AuthContext';\nimport axios from 'axios';\nimport AvatarUpload from './AvatarUpload';\nconst {\n  Title,\n  Text\n} = Typography;\n\nconst Settings = ({\n  history\n}) => {\n  _s();\n\n  const {\n    auth,\n    setAuth\n  } = useContext(AuthContext);\n  const [activeKey, setActiveKey] = useState(\"info\");\n  const [form, setForm] = useState();\n  const [errors, setErrors] = useState([]);\n  const [edited, setEdited] = useState(false);\n\n  const logout = () => {\n    setAuth({\n      isAuth: false,\n      fetched: true,\n      loading: false\n    });\n    localStorage.removeItem(\"token\");\n    history.push(\"/\");\n  };\n\n  useEffect(() => {\n    if (auth.user) {\n      setForm({\n        email: auth.user.email,\n        phone: auth.user.phone || \"\",\n        name: auth.user.name || \"\",\n        class: auth.user.class || \"\",\n        img: auth.user.profilePictureURL,\n        earlyAdopter: auth.user.earlyAdopter || false\n      });\n    }\n  }, [auth]);\n\n  const handleForm = e => {\n    setEdited(true);\n    setForm({ ...form,\n      [e.target.id]: e.target.value\n    });\n  };\n\n  const updateUser = async () => {\n    try {\n      const body = JSON.stringify({\n        name: form.name.trim(),\n        img: form.img.trim(),\n        'class': form.class.toString().trim(),\n        phone: form.phone.trim(),\n        earlyAdopter: form.earlyAdopter\n      });\n      const res = await axios.put(`${process.env.REACT_APP_AUTH_API}/user?time=${new Date().getTime()}`, body, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      console.log(res.data);\n      setAuth({ ...auth,\n        user: { ...auth.user,\n          name: res.data.name,\n          class: res.data.class,\n          phone: res.data.phone,\n          earlyAdopter: res.data.earlyAdopter\n        }\n      });\n      console.log(\"here:\");\n      console.log(auth);\n      setErrors([]);\n      setEdited(false);\n      message.success('Account information updated', 5);\n    } catch (err) {\n      var _err$response;\n\n      if (err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) {\n        setErrors(err.response.data.errors);\n      } else {\n        setErrors([{\n          \"msg\": \"Server error\"\n        }]);\n      }\n\n      setTimeout(() => setErrors([]), 2500);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"body\",\n      style: {\n        height: \"120vh\",\n        marginTop: \"50px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(PageHeader, {\n        className: \"site-page-header\",\n        onBack: () => history.push('/'),\n        title: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Title, {\n            level: 2,\n            style: {\n              marginBottom: \"0px\"\n            },\n            children: \"Settings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          margin: \"20px 40px 0px 48px\",\n          display: \"flex\",\n          justifyContent: \"space-between\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: \"20%\",\n            minWidth: \"275px\",\n            marginBottom: \"40px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(SettingsNav, {\n            onClick: e => {\n              setActiveKey(e.key);\n\n              if (e.key === 'logout') {\n                logout();\n              }\n            },\n            children: [/*#__PURE__*/_jsxDEV(Menu.Item, {\n              style: activeKey === \"info\" && {\n                color: \"#1890ff\"\n              },\n              icon: /*#__PURE__*/_jsxDEV(UserOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 108\n              }, this),\n              children: \"My Account\"\n            }, \"info\", false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n              danger: true,\n              style: activeKey && {\n                color: \"#ff4d4f\"\n              },\n              icon: /*#__PURE__*/_jsxDEV(LogoutOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 105\n              }, this),\n              children: \"Logout\"\n            }, \"logout\", false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: \"75%\",\n            marginLeft: \"2.5%\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            style: {\n              borderRadius: \"20px\",\n              marginBottom: \"20px\"\n            },\n            children: auth.user && form && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: \"100%\",\n                  display: \"flex\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(AvatarUpload, {\n                  avatar: form.img ? form.img : auth.user.profilePictureURL,\n                  changeHandeler: info => {\n                    if (info.file.status === 'done') {\n                      setEdited(true);\n                      setForm({ ...form,\n                        img: info.file.response\n                      });\n                    }\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: \"flex\",\n                    paddingLeft: \"20px\",\n                    justifyContent: \"space-evenly\",\n                    width: \"calc(100% - 100px)\",\n                    flexDirection: \"row\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      width: \"45%\"\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        marginBottom: \"15px\"\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          marginBottom: \"3px\"\n                        },\n                        children: /*#__PURE__*/_jsxDEV(Text, {\n                          strong: true,\n                          style: {\n                            fontSize: \"10px\"\n                          },\n                          children: \"NAME\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 132,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 131,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(Input, {\n                        id: \"name\",\n                        onChange: handleForm,\n                        style: {\n                          width: \"100%\",\n                          height: \"40px\",\n                          borderRadius: \"5px\"\n                        },\n                        placeholder: \"Name\",\n                        value: form.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 134,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 130,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        marginBottom: \"15px\"\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          marginBottom: \"3px\"\n                        },\n                        children: /*#__PURE__*/_jsxDEV(Text, {\n                          strong: true,\n                          style: {\n                            fontSize: \"10px\"\n                          },\n                          children: \"EMAIL\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 138,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 137,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(Input, {\n                        id: \"email\",\n                        suffix: auth.user.verified ? /*#__PURE__*/_jsxDEV(Tooltip, {\n                          title: \"Verified\",\n                          children: /*#__PURE__*/_jsxDEV(CheckCircleTwoTone, {\n                            twoToneColor: \"#52c41a\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 140,\n                            columnNumber: 128\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 140,\n                          columnNumber: 102\n                        }, this) : /*#__PURE__*/_jsxDEV(Tooltip, {\n                          title: \"Not Verified\",\n                          children: /*#__PURE__*/_jsxDEV(MinusCircleTwoTone, {\n                            twoToneColor: \"#ff4d4f\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 140,\n                            columnNumber: 219\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 140,\n                          columnNumber: 189\n                        }, this),\n                        disabled: true,\n                        onChange: handleForm,\n                        style: {\n                          width: \"100%\",\n                          height: \"40px\",\n                          borderRadius: \"5px\",\n                          cursor: \"pointer\"\n                        },\n                        placeholder: \"Email\",\n                        value: form.email\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 140,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 136,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 129,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      width: \"45%\"\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        marginBottom: \"15px\"\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          marginBottom: \"3px\"\n                        },\n                        children: /*#__PURE__*/_jsxDEV(Text, {\n                          strong: true,\n                          style: {\n                            fontSize: \"10px\"\n                          },\n                          children: \"PHONE\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 147,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 146,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(Input, {\n                        id: \"phone\",\n                        pattern: \"[0-9]{3}-[0-9]{3}-[0-9]{4}\",\n                        onChange: handleForm,\n                        style: {\n                          width: \"100%\",\n                          height: \"40px\",\n                          borderRadius: \"5px\"\n                        },\n                        type: \"tel\",\n                        placeholder: \"Phone\",\n                        value: form.phone\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 149,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 145,\n                      columnNumber: 49\n                    }, this), auth.user.role === \"student\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          marginBottom: \"3px\"\n                        },\n                        children: /*#__PURE__*/_jsxDEV(Text, {\n                          strong: true,\n                          style: {\n                            fontSize: \"10px\"\n                          },\n                          children: \"CLASS\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 154,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 153,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(Input, {\n                        id: \"class\",\n                        onChange: handleForm,\n                        style: {\n                          width: \"100%\",\n                          height: \"40px\",\n                          borderRadius: \"5px\"\n                        },\n                        placeholder: \"Graduating Class\",\n                        value: form.class\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 156,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 152,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 144,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: \"100%\",\n                  display: \"flex\",\n                  marginTop: \"20px\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    paddingLeft: \"20px\",\n                    marginLeft: \"100px\",\n                    width: \"calc(100% - 100px)\",\n                    display: \"flex\",\n                    justifyContent: \"center\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      width: \"95%\"\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Divider, {\n                      orientation: \"left\",\n                      plain: true,\n                      children: \"Early Adopter Program\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 168,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        display: \"flex\",\n                        justifyContent: \"space-between\"\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          width: \"85%\"\n                        },\n                        children: /*#__PURE__*/_jsxDEV(Text, {\n                          children: \"Opt in to recieve features earlier and provide feedback to the HSE Apps team. \"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 174,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 173,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(Switch, {\n                        checked: form.earlyAdopter,\n                        onChange: () => {\n                          setEdited(true);\n                          setForm({ ...form,\n                            earlyAdopter: !form.earlyAdopter\n                          });\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 176,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 172,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 166,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: \"100%\",\n                  display: \"flex\",\n                  marginTop: \"80px\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    paddingLeft: \"20px\",\n                    marginLeft: \"100px\",\n                    width: \"calc(100% - 100px)\",\n                    display: \"flex\",\n                    justifyContent: \"center\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      width: \"95%\",\n                      display: \"flex\",\n                      justifyContent: \"flex-end\",\n                      alignItems: \"center\"\n                    },\n                    children: [errors.length > 0 && /*#__PURE__*/_jsxDEV(Text, {\n                      type: \"danger\",\n                      children: errors[0].msg\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 191,\n                      columnNumber: 53\n                    }, this), edited && /*#__PURE__*/_jsxDEV(Button, {\n                      style: {\n                        marginLeft: \"15px\"\n                      },\n                      onClick: updateUser,\n                      type: \"primary\",\n                      children: \"Save\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 194,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 189,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Settings, \"YQv7vHkJOmV29h6YYrnhLD7KYNU=\");\n\n_c = Settings;\nexport default Settings;\n\nvar _c;\n\n$RefreshReg$(_c, \"Settings\");","map":{"version":3,"sources":["C:/Users/ZB56/Documents/hseats-1/src/auth/Settings.js"],"names":["React","useState","useContext","useEffect","Navbar","SettingsNav","Row","Col","Typography","PageHeader","Card","Menu","Button","Input","Switch","Divider","message","Tooltip","MinusCircleTwoTone","CheckCircleTwoTone","UserOutlined","LogoutOutlined","AuthContext","axios","AvatarUpload","Title","Text","Settings","history","auth","setAuth","activeKey","setActiveKey","form","setForm","errors","setErrors","edited","setEdited","logout","isAuth","fetched","loading","localStorage","removeItem","push","user","email","phone","name","class","img","profilePictureURL","earlyAdopter","handleForm","e","target","id","value","updateUser","body","JSON","stringify","trim","toString","res","put","process","env","REACT_APP_AUTH_API","Date","getTime","headers","console","log","data","success","err","response","setTimeout","height","marginTop","marginBottom","margin","display","justifyContent","width","minWidth","key","color","marginLeft","borderRadius","info","file","status","paddingLeft","flexDirection","fontSize","verified","cursor","role","alignItems","length","msg"],"mappings":"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","sourcesContent":["import React , {useState, useContext, useEffect} from 'react';\nimport Navbar from '../components/Navbar'\nimport SettingsNav from './SettingsNav'\n\nimport { Row, Col, Typography, PageHeader, Card, Menu, Button, Input, Switch, Divider, message, Tooltip} from 'antd';\nimport { MinusCircleTwoTone, CheckCircleTwoTone, UserOutlined, LogoutOutlined } from '@ant-design/icons';\nimport AuthContext from './AuthContext'\nimport axios from 'axios'\nimport AvatarUpload from './AvatarUpload';\n\nconst {Title , Text} = Typography\n\n\nconst Settings = ({history}) => {\n  \n    \n    const {auth, setAuth} = useContext(AuthContext)\n    const [activeKey, setActiveKey] = useState(\"info\")\n    const [form, setForm] = useState()\n    const [errors,setErrors] = useState([])\n    const [edited,setEdited] = useState(false)\n\n    \n    const logout = () => {\n        setAuth({isAuth: false, fetched: true, loading: false})\n        localStorage.removeItem(\"token\")\n        history.push(\"/\")\n    }\n\n    useEffect(() => {\n        if(auth.user){\n            setForm({\n                email: auth.user.email,\n                phone: auth.user.phone || \"\",\n                name: auth.user.name || \"\",\n                class: auth.user.class || \"\",\n                img: auth.user.profilePictureURL,\n                earlyAdopter: auth.user.earlyAdopter || false\n            })\n\n        }\n    }, [auth])\n\n    const handleForm = e => {\n        setEdited(true)\n        setForm({...form, [e.target.id]: e.target.value})\n     }\n\n\n\n    const updateUser = async () => { \n        try{\n            const body = JSON.stringify({name: form.name.trim(), img: form.img.trim(), 'class': form.class.toString().trim(), phone: form.phone.trim(), earlyAdopter: form.earlyAdopter})\n            const res = await axios.put(`${process.env.REACT_APP_AUTH_API}/user?time=${new Date().getTime()}`, body, {\n                headers:{ \n                      \"Content-Type\": \"application/json\"\n                }\n            })\n\n            console.log(res.data)\n            setAuth({...auth, user: {...auth.user, name: res.data.name, class:res.data.class, phone:res.data.phone, earlyAdopter: res.data.earlyAdopter}})\n            console.log(\"here:\")\n            console.log(auth)\n            setErrors([])\n            setEdited(false)\n            message.success('Account information updated', 5)\n\n\n        } catch(err){\n            if(err?.response?.data){\n                setErrors(err.response.data.errors)\n            } else {\n                setErrors([{\"msg\": \"Server error\"}])\n\n            }\n            setTimeout(() => setErrors([]), 2500)\n        }\n    }\n    \n\n    return(\n        <div className=\"App\">\n            <Navbar></Navbar>\n            <div id=\"body\" style={{height: \"120vh\", marginTop:\"50px\"}}>\n\n\n                <PageHeader\n                    className=\"site-page-header\"\n                    onBack={() => history.push('/')}\n                    title={\n                        <div>\n                            <Title level={2} style={{marginBottom:\"0px\"}} >Settings</Title>\n                        </div>\n                    }\n                />\n\n                <div style={{margin:\"20px 40px 0px 48px\", display:\"flex\", justifyContent:\"space-between\"}}>\n                    \n                    <div style={{width: \"20%\", minWidth: \"275px\", marginBottom: \"40px\"}}>\n                        <SettingsNav\n                            onClick={(e) => {\n                                setActiveKey(e.key)\n                                if(e.key === 'logout'){\n                                    logout()\n                                }\n                            }}\n                        >\n                            <Menu.Item key=\"info\" style={activeKey === \"info\" && {color: \"#1890ff\"} }icon={<UserOutlined />}>My Account</Menu.Item>\n                            <Menu.Item key=\"logout\" danger style={activeKey && {color: \"#ff4d4f\"}}icon={<LogoutOutlined />}>Logout</Menu.Item>\n                        </SettingsNav>\n                    </div>\n\n                    <div style={{width: \"75%\", marginLeft:\"2.5%\"}}>\n                        <Card  style={{ borderRadius: \"20px\", marginBottom: \"20px\"}}>\n                            {auth.user && form && \n                                <div>\n\n                                    <div style={{width:\"100%\", display:\"flex\"}}>\n                                        <AvatarUpload  \n                                            avatar={form.img ? form.img : auth.user.profilePictureURL}\n                                            changeHandeler={(info) => {\n                                                if (info.file.status === 'done') {\n                                                    setEdited(true)\n                                                    setForm({...form, img: info.file.response})\n                                                } \n                                        }}/>\n                                        <div style={{display: \"flex\",paddingLeft: \"20px\", justifyContent: \"space-evenly\", width: \"calc(100% - 100px)\", flexDirection:\"row\"}}>\n\n                                            <div style={{width: \"45%\"}}>\n                                                <div style={{marginBottom: \"15px\"}}>\n                                                    <div style={{marginBottom:\"3px\"}}>\n                                                        <Text strong style={{fontSize: \"10px\"}}>NAME</Text>\n                                                    </div>\n                                                    <Input id=\"name\" onChange={handleForm} style={{width: \"100%\", height: \"40px\", borderRadius: \"5px\"}} placeholder=\"Name\" value={form.name}></Input>\n                                                </div>\n                                                <div style={{marginBottom: \"15px\"}}>\n                                                    <div style={{marginBottom:\"3px\"}}>\n                                                        <Text strong style={{fontSize: \"10px\"}}>EMAIL</Text>\n                                                    </div>\n                                                    <Input id=\"email\" suffix={auth.user.verified ?   <Tooltip title=\"Verified\"><CheckCircleTwoTone  twoToneColor=\"#52c41a\" /></Tooltip>  :  <Tooltip title=\"Not Verified\"><MinusCircleTwoTone twoToneColor=\"#ff4d4f\" /></Tooltip> } disabled onChange={handleForm} style={{width: \"100%\", height: \"40px\", borderRadius: \"5px\", cursor: \"pointer\"}} placeholder=\"Email\" value={form.email}></Input>\n                                                </div>\n                                            </div>\n\n                                            <div  style={{width: \"45%\"}}>\n                                                <div style={{marginBottom: \"15px\"}}>\n                                                    <div style={{marginBottom:\"3px\"}}>\n                                                        <Text strong style={{fontSize: \"10px\"}}>PHONE</Text>\n                                                    </div>\n                                                    <Input id=\"phone\"  pattern=\"[0-9]{3}-[0-9]{3}-[0-9]{4}\" onChange={handleForm} style={{width: \"100%\", height: \"40px\", borderRadius: \"5px\"}} type=\"tel\" placeholder=\"Phone\" value={form.phone}></Input>\n                                                </div>\n                                                { auth.user.role === \"student\" &&\n                                                <div>\n                                                    <div style={{marginBottom:\"3px\"}}>\n                                                        <Text strong style={{fontSize: \"10px\"}}>CLASS</Text>\n                                                    </div>\n                                                    <Input id=\"class\" onChange={handleForm}  style={{width: \"100%\", height: \"40px\", borderRadius: \"5px\"}} placeholder=\"Graduating Class\" value={form.class}></Input>\n                                                </div>\n                                                }\n                                            </div> \n\n                                        </div>            \n                                    </div>\n\n                                    <div style={{width:\"100%\", display:\"flex\", marginTop: \"20px\"}}>\n                                        <div style={{paddingLeft: \"20px\", marginLeft:\"100px\", width: \"calc(100% - 100px)\", display:\"flex\", justifyContent:\"center\"}}>\n                                            <div style={{width: \"95%\"}}>\n\n                                                <Divider orientation=\"left\" plain>\n                                                    Early Adopter Program\n                                                </Divider>\n\n                                                <div style={{display:\"flex\", justifyContent: \"space-between\"}}>\n                                                    <div style={{width: \"85%\"}}>\n                                                        <Text>Opt in to recieve features earlier and provide feedback to the HSE Apps team. </Text>\n                                                    </div>\n                                                    <Switch checked={form.earlyAdopter} onChange={() => {\n                                                        setEdited(true)\n                                                        setForm({...form, earlyAdopter: !form.earlyAdopter})\n                                                    }}></Switch>\n                                                </div>\n\n                                            </div>\n                                        </div>\n                                    </div>\n\n\n                                    <div style={{width:\"100%\", display:\"flex\", marginTop: \"80px\"}}>   \n                                        <div style={{paddingLeft: \"20px\", marginLeft:\"100px\", width: \"calc(100% - 100px)\", display:\"flex\", justifyContent:\"center\"}}>\n                                            <div style={{width: \"95%\", display: \"flex\", justifyContent: \"flex-end\", alignItems: \"center\"}}>\n                                                { errors.length > 0 &&\n                                                    <Text type=\"danger\">{errors[0].msg}</Text>\n                                                }\n                                                {edited &&\n                                                    <Button style={{marginLeft: \"15px\"}} onClick={updateUser} type='primary'>Save</Button>\n                                                }                                \n                                            </div>\n                                        </div>\n                                    </div>\n\n                                </div>\n                            }\n                        </Card>\n                    </div>\n\n                </div>\n\n            </div>\n\n            \n        </div>\n    )\n}\n\nexport default Settings;"]},"metadata":{},"sourceType":"module"}